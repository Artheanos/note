(this["webpackJsonpjs-front"]=this["webpackJsonpjs-front"]||[]).push([[0],{35:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),s=n(25),i=n.n(s),o=(n(35),n(7)),l=n(11),j=n(45),u=n(46),b=n(27),h=n(47),d=n(48),p=n(13),O=n.n(p),x=n(18);function m(e){var t=Object(c.useState)(e),n=Object(l.a)(t,2),a=n[0],r=n[1];return[a,r,{value:a,onChange:function(e){return r(e.target.value)}}]}function f(){return(f=Object(x.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3000/api/"+t,Object(o.a)(Object(o.a)({},n),{},{credentials:"include"}));case 3:return a=e.sent,e.next=6,a.text();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(e,t){return g.apply(this,arguments)}function g(){return(g=Object(x.a)(O.a.mark((function e(t,n){var a,c,r,s=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:200,c=s.length>3?s[3]:void 0,"string"!==typeof n&&(n=JSON.stringify(n)),console.log(n),e.next=6,fetch("http://localhost:3000/api/"+t,Object(o.a)(Object(o.a)({},c),{},{body:n,method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}));case 6:if((r=e.sent).status!==a){e.next=13;break}return e.next=10,r.text();case 10:return e.abrupt("return",e.sent);case 13:throw alert("Wrong status"),Error("Wrong status");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(28),w=n(22),N=n(6);function S(){var e=(new w.a).get("sessionId");return console.log(e),Boolean(e)}function C(e){var t=e.component,n=Object(y.a)(e,["component"]);return Object(a.jsx)(N.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return S()?Object(a.jsx)(t,Object(o.a)({},e)):Object(a.jsx)(N.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function k(e){var t=m("admin@admin.pl"),n=Object(l.a)(t,3),c=n[0],r=n[2],s=m("admin"),i=Object(l.a)(s,3),p=i[0],O=i[2];return S()?Object(a.jsx)(N.a,{to:"/note"}):Object(a.jsxs)(j.a,{className:"text-light",children:[Object(a.jsx)(u.a,{children:Object(a.jsxs)(b.a,{className:"text-center",children:[Object(a.jsx)("h1",{className:"mb-3",style:{fontSize:"calc(1.525rem + 3.3vw)",lineHeight:"1"},children:"Note"}),Object(a.jsx)("p",{className:"lead",children:"Use any email you'd like - if it hasn't been used before a new note will be created anyways"}),Object(a.jsx)("p",{className:"lead",children:"Password - admin"})]})}),Object(a.jsx)(u.a,{className:"justify-content-center",children:Object(a.jsxs)(h.a,{onSubmit:function(t){t.preventDefault(),v("login",{email:c,password:p}).then((function(){return e.history.push("/note")})).catch(alert)},style:{maxWidth:"768px",width:"100%"},children:[Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:"Email"}),Object(a.jsx)(h.a.Control,Object(o.a)(Object(o.a)({},r),{},{type:"email"}))]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:"Password"}),Object(a.jsx)(h.a.Control,Object(o.a)(Object(o.a)({},O),{},{type:"password"}))]}),Object(a.jsx)(d.a,{type:"submit",children:"Submit"})]})})]})}function P(e){var t=e.history,n=m(""),r=Object(l.a)(n,3),s=r[0],i=r[1],b=r[2],p=Object(c.useState)(""),O=Object(l.a)(p,2),x=O[0],g=O[1];Object(c.useEffect)((function(){(function(e,t){return f.apply(this,arguments)})("note").then((function(e){i(e),g(e)}))}),[]);var y=s===x?Object(a.jsx)(d.a,{variant:"success",className:"mt-2 mr-2 disabled",style:{width:"7rem"},children:"Saved"}):Object(a.jsx)(d.a,{className:"mt-2 mr-2",style:{width:"7rem"},type:"submit",children:"Save"});return Object(a.jsx)("div",{className:"NotePage",children:Object(a.jsx)(j.a,{children:Object(a.jsx)(u.a,{className:"justify-content-center",children:Object(a.jsxs)(h.a,{onSubmit:function(e){e.preventDefault(),v("note",{note:s}).then((function(){return g(s)}))},style:{maxWidth:"768px",width:"100%"},children:[Object(a.jsx)(h.a.Control,Object(o.a)({as:"textarea"},b)),y,Object(a.jsx)(d.a,{className:"mt-2 mr-2",variant:"warning",onClick:function(){return function(e){(new w.a).remove("sessionId"),e.push("/login")}(t)},children:"Log Out"})]})})})})}var L=n(14);var E=function(){return Object(a.jsx)("div",{className:"App py-5 px-1 px-md-3",children:Object(a.jsxs)(L.a,{children:[Object(a.jsx)(N.b,{path:"/",exact:!0,children:Object(a.jsx)(N.a,{to:"/login"})}),Object(a.jsx)(N.b,{path:"/login",component:k}),Object(a.jsx)(C,{path:"/note",component:P})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(43);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root")),F()}},[[44,1,2]]]);
//# sourceMappingURL=main.2a01ab77.chunk.js.map